{% extends "base.html" %}
{% block title %}ìƒí’ˆ ìƒì„¸ë³´ê¸°{% endblock %}
{% block content %}
<h2>{{ product.title }}</h2>
<p>{{ product.description }}</p>
<p>ê°€ê²©: {{ product.price }}ì›</p>
<p>íŒë§¤ì: {{ seller.username if seller else 'ì•Œ ìˆ˜ ì—†ìŒ' }}</p>

{% if session['user_id'] == product.seller_id %}
  <!-- íŒë§¤ì ì „ìš©: ìˆ˜ì • / ì‚­ì œ -->
  <form method="get" action="{{ url_for('edit_product', product_id=product.id) }}" style="display: inline;">
    <button type="submit" style="background-color: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; margin-right: 10px;">
      âœï¸ ìˆ˜ì •
    </button>
  </form>

  <form method="post" action="{{ url_for('delete_product', product_id=product.id) }}" style="display: inline;">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <button type="submit" onclick="return confirm('ì •ë§ ì‚­ì œí• ê¹Œìš”?')" style="background-color: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px;">
      ğŸ—‘ï¸ ì‚­ì œ
    </button>
  </form>

  {% else %}
  <!-- êµ¬ë§¤ì ì „ìš©: í¬ì¸íŠ¸ ì†¡ê¸ˆ -->
  <form method="get" action="{{ url_for('transfer', receiver_id=seller.id) }}" style="display: inline;">
    <button type="submit" style="background-color: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; margin-right: 10px;">
      ğŸ’¸ í¬ì¸íŠ¸ ì†¡ê¸ˆ
    </button>
  </form>

  <!-- ğŸ’Œ 1:1 ë¬¸ì˜ -->
  <form method="get" action="{{ url_for('private_chat', receiver_id=seller.id) }}" style="display: inline;">
    <button type="submit" style="background-color: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px;">
      ğŸ’Œ 1:1 ë¬¸ì˜
    </button>
  </form>
{% endif %}




{% endblock %}
